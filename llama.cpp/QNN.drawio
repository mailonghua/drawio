<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36" version="26.0.11" pages="2">
  <diagram name="模型转换" id="q1nRHni4aejiV3N0xTG-">
    <mxGraphModel dx="5736" dy="718" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="eDtktl5VDvue2rG7Qb4u-126" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeWidth=2;" vertex="1" parent="1">
          <mxGeometry x="190" y="2590" width="2860" height="1552" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-1" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="2690" y="3600" width="310" height="290" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-2" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-3" target="eDtktl5VDvue2rG7Qb4u-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1265" y="3473" width="555" height="127" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="2505" y="3233.75" width="470" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-5" value="使用Pytorch模型进行构建Prefill的图" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=13;fontStyle=1;fontColor=#FF0000;" vertex="1" parent="1">
          <mxGeometry x="260" y="2690" width="231" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-6" value="通过HF库创建分词器对象&lt;div&gt;tokenizer&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="470" y="2720" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-7" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-9" target="eDtktl5VDvue2rG7Qb4u-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-8" value="linear_to_conv2d" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-7">
          <mxGeometry x="-0.222" y="-2" relative="1" as="geometry">
            <mxPoint x="19" y="-2" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-9" value="通过HF库创建模型对象&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_fp_model&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="480" y="2910" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-10" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-14" target="eDtktl5VDvue2rG7Qb4u-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-11" value="LlamaForCausalLM.from_pretrained" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-10">
          <mxGeometry x="-0.0471" y="2" relative="1" as="geometry">
            <mxPoint x="19" y="-12" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-12" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-14" target="eDtktl5VDvue2rG7Qb4u-6">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-13" value="AutoTokenizer.from_pretrained" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-12">
          <mxGeometry x="-0.0842" y="-3" relative="1" as="geometry">
            <mxPoint x="18" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-14" value="LLM-HF格式模型" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="260" y="2810" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-15" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-17" target="eDtktl5VDvue2rG7Qb4u-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-16" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-17" target="eDtktl5VDvue2rG7Qb4u-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="972" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-17" value="将线性层替换为卷积层&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_fp_model&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="749" y="2910" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-18" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-19" target="eDtktl5VDvue2rG7Qb4u-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-19" value="获取测试数据集&lt;div&gt;get_wiki_dataset&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="744" y="2840" width="150" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-20" value="计算评价当前模型的原始模型困惑度&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;orig_ppl&lt;/font&gt;&lt;/b&gt;&lt;div&gt;bert_ppl_eval()&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="964" y="2840" width="156" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-21" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-22" target="eDtktl5VDvue2rG7Qb4u-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="972" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-22" value="获取虚拟的输入数据&lt;div&gt;get_dummy_data(&#39;bertcache&#39;,...）&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="714" y="2990" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-23" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-24" target="eDtktl5VDvue2rG7Qb4u-27">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="972" y="3010" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-24" value="获取虚拟的输入数据&lt;div&gt;get_dummy_data(&#39;bertcache&#39;,...）&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="714" y="3050" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-25" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-53" target="eDtktl5VDvue2rG7Qb4u-46">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-26" value="LLMForwardPassManager&lt;div&gt;&lt;b&gt;(&lt;font color=&quot;#ff33ff&quot;&gt;model_mode=&#39;bertcache&#39;&lt;/font&gt;,)&lt;/b&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-25">
          <mxGeometry x="-0.0006" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-27" value="&lt;div&gt;AIMET&lt;div&gt;model_preparer.prepare_model&lt;/div&gt;&lt;/div&gt;&lt;div&gt;将 PyTorch 模型自动转换为更适合目标硬件上量化和运行的版本&lt;br&gt;&lt;/div&gt;&lt;div&gt;(除了替换特定的函数式操作外，模型的其余结构保持不变)&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_prepared_model&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="972.5" y="2955" width="255" height="110" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-28" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-29" target="eDtktl5VDvue2rG7Qb4u-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-29" value="&lt;div&gt;获取测试数据集&lt;div&gt;get_wiki_dataset&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1440" y="2910" width="190" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-30" value="计算评价当前模型的困惑度&lt;div&gt;bert_mha_prepared_model&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1750" y="2910" width="160" height="40" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-31" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-35" target="eDtktl5VDvue2rG7Qb4u-30">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-32" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-35" target="eDtktl5VDvue2rG7Qb4u-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-33" value="&lt;font&gt;&lt;span style=&quot;font-size: 12px; text-wrap: wrap;&quot;&gt;&lt;span&gt;QuantizationSimModel&lt;/span&gt;&lt;/span&gt;&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;fontStyle=0" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-32">
          <mxGeometry x="0.0039" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-34" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-35" target="eDtktl5VDvue2rG7Qb4u-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-35" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_fpm&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;&quot; color=&quot;#ff0000&quot;&gt;&lt;b&gt;bert_mha_sim_fpm = bert_mha_fpm&amp;nbsp;&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;自定义对象(&lt;b&gt;LLMForwardPassManager&lt;/b&gt;)将模型对象和模型参数进行封装" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1373.99" y="2980" width="247" height="70" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-36" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-37" target="eDtktl5VDvue2rG7Qb4u-39">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-37" value="&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;quant_sim&lt;/b&gt;&lt;/font&gt;&lt;/span&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;创建量化仿真对象&lt;div&gt;模拟是指实际上不改变原有的模型，类似仿真用以评估模型量化后在目标设备上的效果&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1750" y="2995" width="189" height="80" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-38" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-39" target="eDtktl5VDvue2rG7Qb4u-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-39" value="&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;set_matmul_second_input_producer&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;_to_8bit_symmetric&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;&quot;&gt;进行量化配置，将matmul的第二个参数&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b style=&quot;&quot;&gt;(一般为权重)进行8bit量化&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1990" y="3018.75" width="228" height="65" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-40" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-41" target="eDtktl5VDvue2rG7Qb4u-43">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-41" value="混合精度量化的配置文件&lt;div&gt;w4_a16_exceptions_llama_v2_prepared_&lt;/div&gt;&lt;div&gt;disableRMSNorm_clampgateprojconv_&lt;/div&gt;&lt;div&gt;bundledkv.json&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1990" y="3101.25" width="230" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-42" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-43" target="eDtktl5VDvue2rG7Qb4u-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-43" value="实例化混合精度量化对象ManualQuantsimMixedPrecisionConfig&lt;div&gt;并进行&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;模型对象的量化&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;quant_sim&lt;/b&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2260" y="3061.25" width="210" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-44" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-46" target="eDtktl5VDvue2rG7Qb4u-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-45" value="bert_mha_fp_fpm" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-44">
          <mxGeometry x="0.7213" y="4" relative="1" as="geometry">
            <mxPoint x="-102" y="-32" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-46" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_fp_fpm&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;自定义对象(&lt;/span&gt;&lt;b style=&quot;background-color: initial;&quot;&gt;LLMForwardPassManager&lt;/b&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)将模型对象和模型参数进行封装&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1560" y="3177.5" width="170" height="75" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-47" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-27" target="eDtktl5VDvue2rG7Qb4u-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-48" value="LLMForwardPassManager&lt;div&gt;&lt;b&gt;(&lt;font color=&quot;#ff33ff&quot;&gt;model_mode=&#39;bertcache&#39;&lt;/font&gt;,)&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-47">
          <mxGeometry x="0.2269" relative="1" as="geometry">
            <mxPoint x="-15" y="-25" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-49" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-51" target="eDtktl5VDvue2rG7Qb4u-53">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-50" value="load_pytorch_model" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-49">
          <mxGeometry x="0.0471" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-51" value="输出处理后的模型文件&lt;div&gt;bert_mha_prepared_model.dlc&lt;br&gt;&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.json&lt;br&gt;&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.onnx&lt;br&gt;&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.pth&lt;br&gt;&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.py&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="950" y="3152.5" width="190" height="105" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-52" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.473;entryY=0.024;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-27" target="eDtktl5VDvue2rG7Qb4u-51">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-53" value="&lt;div&gt;bert_mha_prepared_model&lt;br&gt;&lt;/div&gt;加载pytorch模型文件&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;bert_mha_fp_fpm&lt;/font&gt;&lt;/b&gt;&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1275" y="3192.5" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-54" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-55" target="eDtktl5VDvue2rG7Qb4u-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-55" value="SeqMseParams&lt;div&gt;计算顺序均方误差的参数对象&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2058" y="3263.75" width="165" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-56" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-57" target="eDtktl5VDvue2rG7Qb4u-4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-57" value="apply_seq_mse计算模型量化前后的均方误差(MSE)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2263" y="3235" width="165" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-58" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-59" target="eDtktl5VDvue2rG7Qb4u-57">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-59" value="train_dataloader" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2083" y="3192.5" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-60" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-61" target="eDtktl5VDvue2rG7Qb4u-62">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-61" value="&lt;div&gt;对quant_sim输出的的不同格式进行统一&lt;/div&gt;propagate_output_encodings" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2525" y="3248.75" width="200" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-62" value="&lt;div&gt;格式统一后进行拼接&lt;/div&gt;aimet_ops.Concat&lt;div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2765" y="3258.75" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-63" value="propagate_output_encodings(quant_sim, aimet_ops.Concat)" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="2505" y="3203.75" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-64" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-65" target="eDtktl5VDvue2rG7Qb4u-71">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-65" value="便利每个sim node计算量化Encodings(量化参数)&lt;div&gt;quant_sim.compute_encodings&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1740" y="3110" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.552;entryY=0.068;entryDx=0;entryDy=0;entryPerimeter=0;curved=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-37" target="eDtktl5VDvue2rG7Qb4u-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-67" value="train_dataloader训练数据集" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1583" y="3075" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-68" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-67" target="eDtktl5VDvue2rG7Qb4u-65">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1750" y="3290" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-69" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-71" target="eDtktl5VDvue2rG7Qb4u-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-70" value="量化参数" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-69">
          <mxGeometry x="0.0279" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-71" value="将量化参数保存为json&lt;div&gt;(saved_encoding.json)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1770" y="3292.5" width="130" height="38.75" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-72" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-75" target="eDtktl5VDvue2rG7Qb4u-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-73" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-75" target="eDtktl5VDvue2rG7Qb4u-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-74" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-75" target="eDtktl5VDvue2rG7Qb4u-82">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-75" value="LLM-HF格式模型" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="261.5" y="3743" width="120" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-76" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-78" target="eDtktl5VDvue2rG7Qb4u-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-77" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-78" target="eDtktl5VDvue2rG7Qb4u-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-78" value="模型参数对象&lt;div&gt;(llm_config = &amp;nbsp;AutoConfig.from_pretrained)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="471.5" y="3673" width="170" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-79" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-80" target="eDtktl5VDvue2rG7Qb4u-84">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-80" value="模型对象&lt;div&gt;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;kv_sha_fp_model&lt;/b&gt;&lt;/font&gt;=&lt;/div&gt;&lt;div&gt;LlamaForCausalLM.from_pretrained&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="471.5" y="3823" width="195" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-81" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-82" target="eDtktl5VDvue2rG7Qb4u-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-82" value="模型编码器&lt;div&gt;tokenizer = AutoTokenizer.from_pretrained&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="471.5" y="3743" width="180" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-83" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-84" target="eDtktl5VDvue2rG7Qb4u-86">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-84" value="线性转卷积&lt;div&gt;linear_to_conv2d(&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;kv_sha_fp_model&lt;/b&gt;&lt;/font&gt;)&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="721.5" y="3823" width="195" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-85" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-86" target="eDtktl5VDvue2rG7Qb4u-89">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-86" value="多头转单头&lt;div&gt;mha_to_sha(&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;kv_sha_fp_model&lt;/font&gt;&lt;/b&gt;)&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="721.5" y="3895" width="195" height="45" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-87" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-89" target="eDtktl5VDvue2rG7Qb4u-90">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-88" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-89" target="eDtktl5VDvue2rG7Qb4u-92">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-89" value="AIMET&lt;div&gt;转换和输出模型，将pth模型转换为适合在端侧运行的模型&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;kv_sha_prepared_model &lt;/font&gt;&lt;/b&gt;= model_preparer.prepare_model&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;rounded=0;align=left;" vertex="1" parent="1">
          <mxGeometry x="995" y="3874" width="210" height="87" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-90" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;输出文件：&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;bert_mha_prepared_model.dlc&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.json&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.onnx&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.pth&lt;/div&gt;&lt;div&gt;bert_mha_prepared_model.py&lt;/div&gt;&lt;/div&gt;" style="whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;rounded=0;align=left;" vertex="1" parent="1">
          <mxGeometry x="995" y="4010" width="210" height="100" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-91" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-92" target="eDtktl5VDvue2rG7Qb4u-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-92" value="自定义对象LLMForwardPassManager创建&amp;amp;初始化" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1010" y="3710" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-93" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-94" target="eDtktl5VDvue2rG7Qb4u-97">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-94" value="创建kvcache类型的模拟输入数据dummy_input = get_dummy_data(&#39;kvcache&#39;,...）" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="980" y="3610" width="204" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-95" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-97" target="eDtktl5VDvue2rG7Qb4u-99">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-96" value="Text" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="eDtktl5VDvue2rG7Qb4u-95">
          <mxGeometry x="0.0957" y="2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-97" value="创建模拟量化对象&lt;div&gt;&amp;nbsp;&lt;font color=&quot;#ff0000&quot;&gt;&lt;b&gt;kv_quant_sim &lt;/b&gt;&lt;/font&gt;= QuantizationSimModel&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1270" y="3658" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-98" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-99" target="eDtktl5VDvue2rG7Qb4u-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-99" value="设置改模拟量化对象(&lt;b style=&quot;color: rgb(255, 0, 0);&quot;&gt;kv_quant_sim&amp;nbsp;&lt;/b&gt;)的矩阵乘法的&lt;div&gt;第二个对象是8Bit量化形式&lt;div&gt;set_matmul_second_input_producer_to_8bit_symmetric&lt;br&gt;&lt;/div&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1470" y="3658" width="300" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-100" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-101" target="eDtktl5VDvue2rG7Qb4u-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-101" value="初始化EncodingsMapper对象" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1271.5" y="3520" width="97" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-102" value="EncodingsMapper(llm_config, output_dir, encoding_file).map_encodings()" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="1250.5" y="3470" width="460" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-103" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;dashed=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-104" target="eDtktl5VDvue2rG7Qb4u-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-104" value="&lt;b&gt;完成量化的编码&lt;/b&gt;&lt;div&gt;(这里的编码是指量化后的存储形式，因为现在进行类似如MHA转SHA，因此需要重新调整编码)&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1401" y="3520" width="194" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-105" value="mha_to_sha多头的量化编码转单头的量化编码" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1635" y="3500" width="165" height="34" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-106" value="prepared_bert_to_kv：再将单头的量化编码转换为适合KV CACHE存储的编码" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1635" y="3546" width="165" height="47" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-107" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.47;entryY=0.062;entryDx=0;entryDy=0;entryPerimeter=0;dashed=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-105" target="eDtktl5VDvue2rG7Qb4u-106">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-108" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-109" target="eDtktl5VDvue2rG7Qb4u-111">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-109" value="输出量化编码参数&lt;div&gt;saved_encoding_updated_encodings.encodings&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1880" y="3507" width="260" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-110" value="" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-111" target="eDtktl5VDvue2rG7Qb4u-113">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-111" value="模拟量化对象(&lt;b style=&quot;color: rgb(255, 0, 0);&quot;&gt;kv_quant_sim&amp;nbsp;&lt;/b&gt;)加载量化编码文件&lt;div&gt;kv_quant_sim.load_encodings&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1880" y="3665" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-112" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-113" target="eDtktl5VDvue2rG7Qb4u-120">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-113" value="统一量化编码&lt;div&gt;按照一定的规则，将一些Node(或者对应的算子)统一成一种形式的量化编码形式，用以避免频繁的反量化&amp;amp;量化操作，提升效率&lt;/div&gt;&lt;div&gt;EncodingUnificationManager(&lt;b&gt;&lt;font color=&quot;#ff0000&quot;&gt;kv_quant_sim&lt;/font&gt;&lt;/b&gt;,...).&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;perform_encoding_unification&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2130" y="3647.5" width="260" height="95" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-114" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-115" target="eDtktl5VDvue2rG7Qb4u-120">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-115" value="获得输入和输出名称&lt;div&gt;get_input_output_names&lt;br&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2185" y="3780" width="205" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-116" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-120" target="eDtktl5VDvue2rG7Qb4u-121">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-117" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-120" target="eDtktl5VDvue2rG7Qb4u-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-118" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-120" target="eDtktl5VDvue2rG7Qb4u-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-119" style="edgeStyle=orthogonalEdgeStyle;curved=1;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="eDtktl5VDvue2rG7Qb4u-120" target="eDtktl5VDvue2rG7Qb4u-124">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-120" value="导出ONNX模型&lt;div&gt;（针对KVCACHE模型）&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="2470" y="3710" width="160" height="60" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-121" value="llama-2-v2-chat.onnx&lt;div&gt;完整的模型结构，包括所有的神经网络层、计算节点及其连接关系&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2710" y="3610" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-122" value="PyTorch权重文件 (llama-2-v2-chat.pth)&lt;div&gt;模型的权重和参数，通常是未量化的浮点数权重&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2710" y="3680" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-123" value="&lt;div&gt;量化编码文件 (llama-2-v2-chat_torch.encodings 和 llama-2-v2-chat.encodings)&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2710" y="3750" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-124" value="&lt;div&gt;各层权重文件，通常是经过量化处理后的权重文件&lt;/div&gt;&lt;div&gt;（如 model_layers_23_self_attn_&lt;/div&gt;&lt;div&gt;v_proj_sha_14_Conv.weight）&lt;br&gt;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2710" y="3830" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-125" value="最后输出的对象" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF0000;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="2690" y="3570" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="eDtktl5VDvue2rG7Qb4u-127" value="LLama2-7B模型转换为QNN的模型" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=21;" vertex="1" parent="1">
          <mxGeometry x="200" y="2598" width="390" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="Sv_UfMXDKVhwG62TIzkl" name="QNN自定义算子">
    <mxGraphModel dx="2620" dy="2124" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-24" value="" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;dashed=1;strokeWidth=2;fillColor=none;" vertex="1" parent="1">
          <mxGeometry width="1270" height="310" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-1" value="" style="rounded=0;whiteSpace=wrap;html=1;dashed=1;dashPattern=8 8;strokeColor=#FF3333;" vertex="1" parent="1">
          <mxGeometry x="743" y="60" width="510" height="170" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-3" target="DR4a6_bkU-ikUzdVwFBg-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-3" value="LLaMAOpPackageHtp.xml" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="20" y="130" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-8" target="DR4a6_bkU-ikUzdVwFBg-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-8" target="DR4a6_bkU-ikUzdVwFBg-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-8" target="DR4a6_bkU-ikUzdVwFBg-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-7" value="生成" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="DR4a6_bkU-ikUzdVwFBg-6">
          <mxGeometry x="-0.7399" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-8" value="&lt;span style=&quot;font-family: Consolas, monospace-fallback, &amp;quot;monospace&amp;quot;; font-size: 14px; white-space: pre;&quot;&gt;qnn-op-package-generator&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="213" y="130" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-9" value="&lt;pre&gt;&lt;div style=&quot;background-color: rgba(0, 0, 0, 0); font-family: Consolas, monospace-fallback, &amp;quot;monospace&amp;quot;; font-size: 14px;&quot;&gt;$QNN_SDK_ROOT/bin/x86_64-linux-clang/qnn-op-package-generator -p ./LLaMAOpPackageHtp.xml -o .&lt;/div&gt;&lt;/pre&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=default;" vertex="1" parent="1">
          <mxGeometry x="20" y="260" width="720" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-11" target="DR4a6_bkU-ikUzdVwFBg-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-11" value="&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;LLaMAPackageInterface.cpp&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="493" y="85" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-13" target="DR4a6_bkU-ikUzdVwFBg-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-13" value="&lt;span style=&quot;font-family: Consolas, monospace-fallback, &amp;quot;monospace&amp;quot;; font-size: 14px; white-space: pre;&quot;&gt;op/*.cpp&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="493" y="130" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-15" target="DR4a6_bkU-ikUzdVwFBg-20">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-15" value="&lt;span style=&quot;font-family: Consolas, monospace-fallback, &amp;quot;monospace&amp;quot;; font-size: 14px; white-space: pre;&quot;&gt;Makefile&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="493" y="175" width="210" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-17" target="DR4a6_bkU-ikUzdVwFBg-20">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="752.9999999999998" y="140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-17" value="&lt;span style=&quot;font-family: Consolas, monospace-fallback, &amp;quot;monospace&amp;quot;; font-size: 14px; white-space: pre;&quot;&gt;用于添加算子实现&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="583" y="130" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-18" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-20" target="DR4a6_bkU-ikUzdVwFBg-21">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="DR4a6_bkU-ikUzdVwFBg-20" target="DR4a6_bkU-ikUzdVwFBg-22">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-20" value="&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;make htp_aarch64 &lt;/span&gt;&lt;/font&gt;&lt;div&gt;&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;&amp;amp;&amp;amp; &lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;make htp_v75&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="753" y="119" width="130" height="50" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-21" value="&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;aarch64-android/libQnnLLaMAPackage.so&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="923" y="85" width="295" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-22" value="&lt;font face=&quot;Consolas, monospace-fallback, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;hexagon-v75/libQnnLLaMAPackage.so&lt;/span&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="923" y="160" width="295" height="30" as="geometry" />
        </mxCell>
        <mxCell id="DR4a6_bkU-ikUzdVwFBg-23" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 17px;&quot;&gt;当前执行的位置&lt;/font&gt;" style="text;strokeColor=none;align=center;fillColor=none;html=1;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=17;" vertex="1" parent="1">
          <mxGeometry x="953" y="30" width="150" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
